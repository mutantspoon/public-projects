<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quill</title>
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body data-theme="dark">
    <!-- Toolbar -->
    <div class="toolbar" id="toolbar">
        <!-- History: far left -->
        <div class="toolbar-group">
            <button class="toolbar-btn icon-btn" id="btn-recent-panel" data-tooltip="Recent Files">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6.5"/><polyline points="8,4 8,8 11,9.5"/></svg>
            </button>
        </div>
        <div class="toolbar-separator"></div>
        <!-- Group 1: File -->
        <div class="toolbar-group">
            <button class="toolbar-btn icon-btn" id="btn-new" data-tooltip="New" data-shortcut="N">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 1.5H4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5.5L9 1.5z"/><polyline points="9,1.5 9,5.5 13,5.5"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-open" data-tooltip="Open" data-shortcut="O">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 13V4a1 1 0 0 1 1-1h3.5l1.5 1.5H13a1 1 0 0 1 1 1V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-save" data-tooltip="Save" data-shortcut="S">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12.5 14.5h-9a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h7l3 3v9a1 1 0 0 1-1 1z"/><rect x="5" y="1.5" width="5" height="4" rx="0.5"/><rect x="4.5" y="9" width="7" height="4" rx="0.5"/></svg>
            </button>
        </div>
        <div class="toolbar-separator"></div>
        <!-- Group 2: Inline Styles -->
        <div class="toolbar-group">
            <button class="toolbar-btn icon-btn format-btn" id="btn-bold" data-tooltip="Bold" data-shortcut="B">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2.5h5a2.5 2.5 0 0 1 0 5H4V2.5z"/><path d="M4 7.5h5.5a2.5 2.5 0 0 1 0 5H4V7.5z"/></svg>
            </button>
            <button class="toolbar-btn icon-btn format-btn" id="btn-italic" data-tooltip="Italic" data-shortcut="I">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="10" y1="2.5" x2="6" y2="13.5"/><line x1="6.5" y1="2.5" x2="11.5" y2="2.5"/><line x1="4.5" y1="13.5" x2="9.5" y2="13.5"/></svg>
            </button>
            <button class="toolbar-btn icon-btn format-btn" id="btn-strike" data-tooltip="Strikethrough" data-shortcut="shift+X">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M11.5 4.5c-.4-1.2-1.7-2-3.5-2C6.1 2.5 4.5 3.7 4.5 5.3c0 .8.4 1.4 1 1.8"/><line x1="3" y1="8" x2="13" y2="8"/><path d="M4.5 11.5c.4 1.2 1.7 2 3.5 2 1.9 0 3.5-1.2 3.5-2.8 0-.6-.3-1.2-.8-1.6"/></svg>
            </button>
            <button class="toolbar-btn icon-btn format-btn" id="btn-code" data-tooltip="Inline Code">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="5,4.5 1.5,8 5,11.5"/><polyline points="11,4.5 14.5,8 11,11.5"/><line x1="9.5" y1="3" x2="6.5" y2="13"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-link" data-tooltip="Insert Link" data-shortcut="K">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6.5 9.5a3 3 0 0 0 4.2.3l2-2a3 3 0 0 0-4.2-4.3l-1.2 1.1"/><path d="M9.5 6.5a3 3 0 0 0-4.2-.3l-2 2a3 3 0 0 0 4.2 4.3l1.1-1.1"/></svg>
            </button>
        </div>
        <div class="toolbar-separator"></div>
        <!-- Group 3: Block Styles -->
        <div class="toolbar-group">
            <!-- Heading dropdown trigger -->
            <div class="dropdown" id="heading-dropdown">
                <button class="toolbar-btn icon-btn dropdown-toggle" id="btn-heading" data-tooltip="Headings">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" stroke="none"><text x="1" y="13" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="13" font-weight="700">T</text><text x="9" y="13" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="9" font-weight="600">t</text></svg>
                </button>
                <div class="dropdown-menu" id="heading-menu">
                    <button class="dropdown-item" id="btn-h1" data-shortcut="1">Heading 1</button>
                    <button class="dropdown-item" id="btn-h2" data-shortcut="2">Heading 2</button>
                    <button class="dropdown-item" id="btn-h3" data-shortcut="3">Heading 3</button>
                </div>
            </div>
            <button class="toolbar-btn icon-btn" id="btn-quote" data-tooltip="Blockquote">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="3" x2="3" y2="13"/><line x1="6.5" y1="5" x2="13" y2="5"/><line x1="6.5" y1="8" x2="13" y2="8"/><line x1="6.5" y1="11" x2="11" y2="11"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-bullet" data-tooltip="Bullet List" data-shortcut="shift+8">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="3" cy="4" r="1.2" stroke="none"/><circle cx="3" cy="8" r="1.2" stroke="none"/><circle cx="3" cy="12" r="1.2" stroke="none"/><line x1="6.5" y1="4" x2="14" y2="4" fill="none"/><line x1="6.5" y1="8" x2="14" y2="8" fill="none"/><line x1="6.5" y1="12" x2="14" y2="12" fill="none"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-numlist" data-tooltip="Numbered List">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><text x="1.5" y="5.5" font-size="5" font-weight="600" stroke="none" font-family="sans-serif">1</text><text x="1.5" y="9.5" font-size="5" font-weight="600" stroke="none" font-family="sans-serif">2</text><text x="1.5" y="13.5" font-size="5" font-weight="600" stroke="none" font-family="sans-serif">3</text><line x1="6.5" y1="4" x2="14" y2="4" fill="none"/><line x1="6.5" y1="8" x2="14" y2="8" fill="none"/><line x1="6.5" y1="12" x2="14" y2="12" fill="none"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-task" data-tooltip="Task List">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="5" height="5" rx="1"/><polyline points="3.5,5.8 4.8,7 7,4.5"/><line x1="9.5" y1="5.5" x2="14" y2="5.5"/><rect x="2" y="9.5" width="5" height="5" rx="1"/><line x1="9.5" y1="12" x2="14" y2="12"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-codeblock" data-tooltip="Code Block" data-shortcut="shift+C">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2" width="13" height="12" rx="2"/><polyline points="5,7 3.5,8.5 5,10"/><polyline points="11,7 12.5,8.5 11,10"/><line x1="9" y1="6" x2="7" y2="11"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-table" data-tooltip="Insert Table">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2.5" width="12" height="11" rx="1.5"/><line x1="2" y1="6.5" x2="14" y2="6.5"/><line x1="2" y1="10" x2="14" y2="10"/><line x1="6.5" y1="2.5" x2="6.5" y2="13.5"/><line x1="10.5" y1="2.5" x2="10.5" y2="13.5"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-image" data-tooltip="Insert Image">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="1.5" y="2.5" width="13" height="11" rx="1.5"/><circle cx="5" cy="6" r="1.2"/><polyline points="14.5,10.5 11,7 5,13"/><polyline points="10,10.5 7.5,8.5 1.5,13"/></svg>
            </button>
        </div>
        <div class="toolbar-spacer"></div>
        <!-- Group 4: View (far right) -->
        <div class="toolbar-group">
            <button class="toolbar-btn icon-btn" id="btn-outline" data-tooltip="Document Outline">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="1.5" width="12" height="13" rx="1.5"/><line x1="5" y1="5" x2="11" y2="5"/><line x1="5" y1="8" x2="11" y2="8"/><line x1="5" y1="11" x2="9" y2="11"/></svg>
            </button>
            <button class="toolbar-btn icon-btn" id="btn-source" data-tooltip="Toggle Source" data-shortcut="/">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5.5 3.5C4.5 3.5 3.5 4 3.5 5v1.5c0 .8-.7 1.5-1.5 1.5 .8 0 1.5.7 1.5 1.5V11c0 1 1 1.5 2 1.5"/><path d="M10.5 3.5c1 0 2 .5 2 1.5v1.5c0 .8.7 1.5 1.5 1.5-.8 0-1.5.7-1.5 1.5V11c0 1-1 1.5-2 1.5"/></svg>
            </button>
        </div>
    </div>

    <!-- Tab Bar -->
    <div class="tab-bar" id="tab-bar">
        <div class="tabs-container"></div>
    </div>

    <!-- Find Bar -->
    <div class="find-bar hidden" id="find-bar">
        <div class="find-row">
            <button class="find-toggle" id="toggle-replace" title="Toggle Replace">▶</button>
            <input type="text" class="find-input" id="find-input" placeholder="Find...">
            <label class="find-option" title="Case Sensitive (Alt+C)">
                <input type="checkbox" id="find-case-sensitive">
                <span>Aa</span>
            </label>
            <span class="find-count" id="find-count"></span>
            <button class="find-btn" id="find-prev" title="Previous Match (Shift+Enter)">↑</button>
            <button class="find-btn" id="find-next" title="Next Match (Enter)">↓</button>
            <button class="find-btn find-close" id="find-close" title="Close (Esc)">×</button>
        </div>
        <div class="replace-row hidden" id="replace-row">
            <input type="text" class="find-input" id="replace-input" placeholder="Replace with...">
            <button class="find-btn" id="replace-btn" title="Replace">Replace</button>
            <button class="find-btn" id="replace-all-btn" title="Replace All">All</button>
        </div>
    </div>

    <!-- Editor Container -->
    <div class="editor-container" id="editor-container">
        <div class="recent-panel hidden" id="recent-panel">
            <div class="recent-header">
                <span class="recent-title">Recent Files</span>
                <button class="recent-close" id="recent-close">&times;</button>
            </div>
            <div class="recent-content" id="recent-content"></div>
        </div>
        <div id="editor"></div>
        <textarea id="source-editor" class="source-editor hidden" spellcheck="false"></textarea>
    </div>

    <!-- Status Bar -->
    <div class="statusbar" id="statusbar">
        <span class="status-item" id="status-position">Ln 1, Col 1</span>
        <span class="status-separator">|</span>
        <span class="status-item" id="status-encoding">UTF-8</span>
        <span class="status-separator">|</span>
        <span class="status-item" id="status-words">Words: 0</span>
        <span class="status-separator">|</span>
        <span class="status-item" id="status-reading-time">~0 min read</span>
        <span class="status-separator" id="status-mode-sep" style="display: none;">|</span>
        <span class="status-item status-mode" id="status-mode" style="display: none;">Source</span>
        <span class="status-spacer"></span>
        <span class="status-item" id="status-message"></span>
        <div class="status-controls">
            <button class="status-btn" id="btn-zoom-out">−</button>
            <span class="status-item" id="font-size-label">14px</span>
            <button class="status-btn" id="btn-zoom-in">+</button>
            <span class="status-separator">|</span>
            <button class="status-btn" id="btn-theme" title="Toggle Theme">☀</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Modal Dialog -->
    <div class="modal-overlay hidden" id="modal-overlay">
        <div class="modal-dialog" id="modal-dialog">
            <div class="modal-message" id="modal-message"></div>
            <div class="modal-buttons" id="modal-buttons"></div>
        </div>
    </div>

    <!-- Load bundled JavaScript -->
    <script src="js/bundle.js"></script>
</body>
</html>
